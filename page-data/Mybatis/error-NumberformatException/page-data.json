{
    "componentChunkName": "component---src-templates-blog-template-js",
    "path": "/Mybatis/error-NumberformatException/",
    "result": {"data":{"cur":{"id":"590b4795-d729-5782-8a96-78a418b4411c","html":"<p>Mybatis를 사용하여 구현하다보면 아래와 같은 에러 문구가 발생하는 경우가 존재합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\">org.mybatis.spring.MyBatisSystemException: nested exception is org.apache.ibatis.exceptions.PersistenceException: \n<span class=\"token comment\">### Error querying database.  Cause: java.lang.NumberFormatException: For input string: \"?\"</span>\n<span class=\"token comment\">### Cause: java.lang.NumberFormatException: For input string: \"?\"</span></code></pre></div>\n<p>에러를 보고 유추하면 형 변환 문제로 보이는데, 아무리 찾아봐도 데이터 타입에는 문제가 없다면 SQL 동적 쿼리를 살펴볼 필요가 있습니다.</p>\n<hr>\n<h2 id=\"예제\" style=\"position:relative;\"><a href=\"#%EC%98%88%EC%A0%9C\" aria-label=\"예제 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>예제</h2>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token keyword\">if</span> test<span class=\"token operator\">=</span><span class=\"token string\">\"value != null and value != ''\"</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token keyword\">if</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span></code></pre></div>\n<p>다음과 같은 동적 쿼리가 존재할 경우 아래와 같이 변경해야 합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"sql\"><pre class=\"language-sql\"><code class=\"language-sql\"><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token keyword\">if</span> test<span class=\"token operator\">=</span><span class=\"token string\">'value != null and value != \"\"'</span><span class=\"token operator\">></span>\n        <span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span><span class=\"token keyword\">if</span><span class=\"token operator\">></span>\n<span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span><span class=\"token punctuation\">.</span>    </code></pre></div>\n<h2 id=\"설명\" style=\"position:relative;\"><a href=\"#%EC%84%A4%EB%AA%85\" aria-label=\"설명 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>설명</h2>\n<p>해결 방법은 몇 가지 존재하지만 가장 깔끔한 방법은 위와 같이 작은따옴표(”)를 먼저 사용한 뒤 큰따옴표(\"\")를 사용해야 합니다.</p>\n<p>해당 오류가 발생하는 이유를 간략히 설명하자면 OGNL(Object Graph Navigation Language)의 문제 때문입니다.\nOGNL인터프리터에서는 ”나 ’?’를 char형으로 인식하고 ’??’나 ”?”는 String으로 인식합니다. 때문에 동적 쿼리의 비교문을 작성할때 NumberFormat으로 비교를 시도하고 해당 에러가 발생하는 것입니다.</p>\n<h2 id=\"결론\" style=\"position:relative;\"><a href=\"#%EA%B2%B0%EB%A1%A0\" aria-label=\"결론 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>결론</h2>\n<hr>\n<p>\"\"를 쓰는 습관을 들이자.</p>","excerpt":"Mybatis를 사용하여 구현하다보면 아래와 같은 에러 문구가 발생하는 경우가 존재합니다. 에러를 보고 유추하면 형 변환 문제로 보이는데, 아무리 찾아봐도 데이터 타입에는 문제가 없다면 SQL 동적 쿼리를 살펴볼 필요가 있습니다. 예제 다음과 같은 동적 쿼리가 존재할 경우 아래와 같이 변경해야 합니다. 설명 해결 방법은 몇 가지 존재하지만 가장 깔끔한 방법은 위와 같이 작은따옴표(”)를 먼저 사용한 뒤 큰따옴표(\"\")를 사용해야 합니다. 해당 오류가 발생하는 이유를 간략히 설명하자면 OGNL(Object Graph Navigation Language)의 문제 때문입니다.\nOGNL인터프리터에서는 ”나 ’?’를 char형으로 인식하고 ’??’나 ”?”는 String으로 인식합니다. 때문에 동적 쿼리의 비교문을 작성할때 NumberFormat으로 비교를 시도하고 해당 에러가 발생하는 것입니다. 결론 \"\"를 쓰는 습관을 들이자.","frontmatter":{"date":"January 08, 2022","title":"[Mybatis] String NumberformatException Error가 나는 경우","categories":"Spring Mybatis","author":"chajin_ahn","emoji":"👻"},"fields":{"slug":"/Mybatis/error-NumberformatException/"}},"next":{"id":"1186602e-904b-5c14-8c00-67c0dbe608a1","html":"<h2 id=\"해결-방법\" style=\"position:relative;\"><a href=\"#%ED%95%B4%EA%B2%B0-%EB%B0%A9%EB%B2%95\" aria-label=\"해결 방법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>해결 방법</h2>\n<ol>\n<li>터미널 실행</li>\n<li>해당 명령어 입력</li>\n</ol>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">git</span> config --global credential.helper osxkeychain</code></pre></div>\n<ol start=\"3\">\n<li>git 명령어 재시도</li>\n<li>password 입력 창이 뜨면 github Personal access tokens 입력</li>\n</ol>","frontmatter":{"date":"January 07, 2022","title":"[Sourcetree] Mac KeyChain Error","categories":"Sourcetree","author":"olkk","emoji":"👻"},"fields":{"slug":"/Git/sourcetree-mac_keychain_error/"}},"prev":{"id":"9bc156e1-9ce3-5cb9-b5e9-78b60b475440","html":"<p>이번에는 thymeleaf 기본 설정과 thymeleaf layout 설정하는 방법에 대해서 알아보겠습니다.</p>\n<h2 id=\"개발-환경\" style=\"position:relative;\"><a href=\"#%EA%B0%9C%EB%B0%9C-%ED%99%98%EA%B2%BD\" aria-label=\"개발 환경 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>개발 환경</h2>\n<hr>\n<table>\n<thead>\n<tr>\n<th align=\"center\">종류</th>\n<th align=\"left\">환경</th>\n</tr>\n</thead>\n<tbody>\n<tr>\n<td align=\"center\">OS</td>\n<td align=\"left\">M1 Mac (Monterey 12.4)</td>\n</tr>\n<tr>\n<td align=\"center\">IDE</td>\n<td align=\"left\">Intellij (2022.1.3)</td>\n</tr>\n<tr>\n<td align=\"center\">Java</td>\n<td align=\"left\">jdk17 (temurin)</td>\n</tr>\n</tbody>\n</table>\n<h2 id=\"thymeleaf-환경-설정\" style=\"position:relative;\"><a href=\"#thymeleaf-%ED%99%98%EA%B2%BD-%EC%84%A4%EC%A0%95\" aria-label=\"thymeleaf 환경 설정 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Thymeleaf 환경 설정</h2>\n<hr>\n<h3 id=\"maven-dependence-추가\" style=\"position:relative;\"><a href=\"#maven-dependence-%EC%B6%94%EA%B0%80\" aria-label=\"maven dependence 추가 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Maven Dependence 추가</h3>\n<h2 id=\"기본-사용법\" style=\"position:relative;\"><a href=\"#%EA%B8%B0%EB%B3%B8-%EC%82%AC%EC%9A%A9%EB%B2%95\" aria-label=\"기본 사용법 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>기본 사용법</h2>\n<hr>\n<p>Thymeleaf 사용 방법은 너무 많으므로 공식 문서로 대체합니다.\n<a href=\"https://www.thymeleaf.org/doc/tutorials/3.0/usingthymeleaf.html\">thymeleaf_documents</a> 어떤 것이 가능한지 훑어본다음 필요에 따라 참고할 수 있도록 합니다. 영어가 어렵거나 설명이 더 필요한 경우는 검색해서 공부할 수 있도록 합니다.</p>\n<h2 id=\"thymeleaf-layout-적용\" style=\"position:relative;\"><a href=\"#thymeleaf-layout-%EC%A0%81%EC%9A%A9\" aria-label=\"thymeleaf layout 적용 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Thymeleaf Layout 적용</h2>\n<hr>\n<p>Thymeleaf Layout 는  공통적인 Header 나 Footer 등을 따로 구현하고 내용이나 구조를 필요에 따라 사용하기 위해서 필요합니다. Tiles Frameworks 는 Controller 에서 레이아웃을 선택하지만 Thymeleaf Layout 은 HTML 에서 레이아웃을 명시해야된다는 점에서 차이가 있습니다.</p>\n<h3 id=\"maven-dependence-추가-1\" style=\"position:relative;\"><a href=\"#maven-dependence-%EC%B6%94%EA%B0%80-1\" aria-label=\"maven dependence 추가 1 permalink\" class=\"anchor before\"><svg aria-hidden=\"true\" focusable=\"false\" height=\"16\" version=\"1.1\" viewBox=\"0 0 16 16\" width=\"16\"><path fill-rule=\"evenodd\" d=\"M4 9h1v1H4c-1.5 0-3-1.69-3-3.5S2.55 3 4 3h4c1.45 0 3 1.69 3 3.5 0 1.41-.91 2.72-2 3.25V8.59c.58-.45 1-1.27 1-2.09C10 5.22 8.98 4 8 4H4c-.98 0-2 1.22-2 2.5S3 9 4 9zm9-3h-1v1h1c1 0 2 1.22 2 2.5S13.98 12 13 12H9c-.98 0-2-1.22-2-2.5 0-.83.42-1.64 1-2.09V6.25c-1.09.53-2 1.84-2 3.25C6 11.31 7.55 13 9 13h4c1.45 0 3-1.69 3-3.5S14.5 6 13 6z\"></path></svg></a>Maven dependence 추가</h3>\n<p>build.gralde 파일에 다음과 같은 의존성을 추가합니다. java version 이 11이상일 경우 다른 의존성을 추가해야된다는 검색결과가 있지만 저는 이상이 없었기 때문에 그대로 진행합니다.</p>\n<div class=\"gatsby-highlight\" data-language=\"yaml\"><pre class=\"language-yaml\"><code class=\"language-yaml\">implementation 'nz.net.ultraq.thymeleaf<span class=\"token punctuation\">:</span>thymeleaf<span class=\"token punctuation\">-</span>layout<span class=\"token punctuation\">-</span>dialect<span class=\"token punctuation\">:</span>3.1.0'</code></pre></div>","frontmatter":{"date":"January 09, 2022","title":"[springboot_start] thymeleaf layout 설정","categories":"Spring","author":"chajin_ahn","emoji":"👻"},"fields":{"slug":"/Spring/springboot_start-4-thymeleaf_layout/"}},"site":{"siteMetadata":{"siteUrl":"https://chanjinahn.github.io","comments":{"utterances":{"repo":"ChanjinAhn/ChanjinAhn.github.io"}}}}},"pageContext":{"slug":"/Mybatis/error-NumberformatException/","nextSlug":"/Git/sourcetree-mac_keychain_error/","prevSlug":"/Spring/springboot_start-4-thymeleaf_layout/"}},
    "staticQueryHashes": ["1073350324","1956554647","2938748437"]}